<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kartveli official</title>
    <link rel="stylesheet" href="stylesheet.css" />
  </head>



  <body>
    <div id="topBar">
      <!--top menu part-->
      <div style="padding: 0;">
        <img src="Images/KARTVELI Logo for real for real.png" alt="KARTVELI Logo" width="100px">
        <h1 id="logo">KARTVELI</h1>
      </div>

      <div style="margin: 0 auto 0 auto; padding: 0;">
        <h2 style="margin: 15px 0 15px 0;">Contact Us</h2>
        <div style="display: flex; justify-content: space-around;">
          <a href="https://wa.me/6287832535745" target="_blank">
            <img src="Images/whatsappbw.png" alt="WhatsApp" style="height: 35px; filter: invert(1);">
          </a>
          <a href="https://www.instagram.com/kartveli.id?igsh=Y2J6dm03NHppMDV0&utm_source=qr" target="_blank">
            <img src="Images/instagrambw.png" alt="Instagram" style="height: 30px; border-radius: 0; filter: invert(1);">
          </a>
        </div>
      </div>
    </div> <!--top menu end-->



      <div id="aboutUs">
        <h1>Together in every thread</h1>
        <p style="color: #9f2c2c;">
          Introducing Kartveli&#39;s new line! Thoughtfully crafted in every stitch, 
          our yarn bracelets feature heart and flower patterns can elevate your 
          everyday look.
        </p>
      </div>

   
      <h1 style="margin: 1.5em auto 0.5em auto;">Our Catalogue</h1> <!--catalogue section start-->

      <div id="catalogue">
        <div class="catalogueProduct">
          <div class="slidesContainer">
            <img src="Images/ryoshu.webp" alt="Heartstrings 1" class="slidesImage1 activeSlidesImage1"/>
            <img src="Images/dqm.webp" alt="Heartstrings 2" class="slidesImage1"/>
            <img src="Images/dqs.jpeg" alt="Heartstrings 3" class="slidesImage1"/>
          </div>
          <h3>Heartstrings</h3>

          <div class="itemCounters">
            <button type="button" class="buttonMinus" onclick="subtractBuyNumber('itemCounter1')">-</button>
            <p id="itemCounter1" class="itemCounters">0</p>
            <button type="button" class="buttonPlus" onclick="addBuyNumber('itemCounter1')">+</button>
          </div>


        </div>
        <div class="catalogueProduct">
          <div class="slidesContainer">
            <img src="Images/dqm.webp" alt="Blossom Trail 1" class="slidesImage2 activeSlidesImage2"/>
            <img src="Images/dqs.jpeg" alt="Blossom Trail 2" class="slidesImage2"/>
            <img src="Images/ryoshu.webp" alt="Blossom Trail 3" class="slidesImage2"/>
          </div>
          <h3>Blossom Trail</h3>

          <div class="itemCounters">
            <button type="button" class="buttonMinus" onclick="subtractBuyNumber('itemCounter2')">-</button>
            <p id="itemCounter2" class="itemCounters">0</p>
            <button type="button" class="buttonPlus" onclick="addBuyNumber('itemCounter2')">+</button>
          </div>


        </div>
        <div class="catalogueProduct">
          <div class="slidesContainer">
            <img src="Images/dqs.jpeg" alt="Flower Buds 1" class="slidesImage3 activeSlidesImage3"/>
            <img src="Images/ryoshu.webp" alt="Flower Buds 2" class="slidesImage3"/>
            <img src="Images/dqm.webp" alt="Flower Buds 3" class="slidesImage3"/>
          </div>
          <h3>Flower Buds</h3>
          
          <div class="itemCounters">
            <button type="button" class="buttonMinus" onclick="subtractBuyNumber('itemCounter3')">-</button>
            <p id="itemCounter3" class="itemCounters">0</p>
            <button type="button" class="buttonPlus" onclick="addBuyNumber('itemCounter3')">+</button>
          </div>

        </div>
      </div> <!--catalogue part end-->
  
      <div style="top: 70px; position: fixed; width: 100%;"> <!--form part start-->
        <form method="post" style="display: none;" id="submissionForm" name="formSubmission"
        action="">
          <label for="yourName" style="color: whitesmoke;"><strong>Your Name</strong></label> 

          <br><br>

          <input type="text" name="name" id="yourName" placeholder="Input your name here" >
          <input type="submit" value="Submit!" id="submitButton">

          <input type="text" name="totalprice" id="totalOrderPrice" style="display: none;" value="">
          <input type="text" name="price1" id="orderPrice1" style="display: none;" value="">
          <input type="text" name="price2" id="orderPrice2" style="display: none;" value="">
          <input type="text" name="price3" id="orderPrice3" style="display: none;" value="">
        </form>  
      </div>
    

      <div id="totalPriceBar"> <!--price bar section start-->
        <button type="button" id="orderSubmit" style="height: 80%; border-radius: 20px;">Submit your order!</button>
        <p id="totalPriceNumber">0</p>
      </div>
  </body>







  <script>
    function addBuyNumber(n) {
      let number = document.getElementById(n).textContent;

       number = ++number;
       if (number > 98) {number = 99};
       document.getElementById(n).textContent = number;
    }

    function subtractBuyNumber(n) {
      let number = document.getElementById(n).textContent;

       number = --number;
       if (number < 1) {number = 0};
       document.getElementById(n).textContent = number;
    }


    /*price calculator section*/
    document.addEventListener('click', function () {
      let price1 = (document.getElementById('itemCounter1').textContent * 30000);
      let price2 = (document.getElementById('itemCounter2').textContent * 35000);
      let price3 = (document.getElementById('itemCounter3').textContent * 25000);
      let totalPrice = (price1 + price2 + price3);

      if (totalPrice > 0) {document.getElementById("totalPriceBar").style.display = "flex";}
      else {document.getElementById("totalPriceBar").style.display = "none";}
     
      document.getElementById("totalPriceNumber").textContent = ("Your total price is Rp" + totalPrice);

      document.getElementById("totalOrderPrice").setAttribute("value", totalPrice);
      document.getElementById("orderPrice1").setAttribute("value", price1);
      document.getElementById("orderPrice2").setAttribute("value", price2);
      document.getElementById("orderPrice3").setAttribute("value", price3);
    }) 


    /*form opener section*/
    document.getElementById("orderSubmit").addEventListener('click', function () {
      document.getElementById("submissionForm").style.display = "block";
    })

    document.addEventListener('click', function () {
      if (document.getElementById('totalPriceBar').style.display === "none") {
        document.getElementById('submissionForm').style.display = "none";
      }
    })


    /*slideshow section -----------------------------------------------------------------------------------*/
    let activeSlide = 1;

    setInterval(slideshow, 3000, "slidesImage1", "activeSlidesImage1");
    setInterval(slideshow, 3000, "slidesImage2", "activeSlidesImage2");
    setInterval(slideshow, 3000, "slidesImage3", "activeSlidesImage3");
    setInterval(() => {++activeSlide;}, 3000);

    function slideshow(nthSlide, nthActiveSlide) {
      const slideNumber = document.getElementsByClassName(nthSlide);
      const slideLength = slideNumber.length;

      slideNumber[activeSlide % slideLength].setAttribute("class", nthSlide + " " + nthActiveSlide);
      
      if (activeSlide % slideLength > 0) {slideNumber[activeSlide % slideLength - 1].setAttribute("class", nthSlide)}
      else {slideNumber[slideLength - 1].setAttribute("class", nthSlide)};
    }


    /*page returner section. DISCLAIMER: this section (including the script used in Excel to catalogue the purchases)
    is entirely taken from https://www.youtube.com/watch?v=jdIntB1J-i8*/
    const scriptURL = "https://script.google.com/macros/s/AKfycbycsoOPSzO2k7MhBuPoJXST0XOrzZn7hUg9m4iDHihOJo7mutfDFU9KEQiBtc3_kWmW/exec";
    const form = document.forms['formSubmission'];

    form.addEventListener('submit', e => {
      e.preventDefault();

      fetch(scriptURL, {method: 'POST', body: new FormData(form)})
      .then(response => alert("Thank you for your order!"))
      .then(() => {window.location.reload();})
      .catch(error => console.error('Error!', error.message))
    })
  </script>
</html>
