<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>kartveli Official</title>
    <link rel="stylesheet" href="stylesheet.css"/>
    <link rel="prev" href="payment.html">
  </head>



  <body>
    <div id="topBar">
      <!--top menu part-->
      <div>
        <img src="Images/KARTVELI Logo for real for real.png" alt="KARTVELI Logo" style="width: 100px; margin: 0 30px 0 0;">
        <h1 id="logo">kartveli</h1>
      </div>

      <div id="contactUs">
        <h2>Contact Us</h2>
        <div>
          <a href="https://wa.me/6287832535745" target="_blank">
            <img src="Images/whatsapplogobw.png" alt="WhatsApp" style="height: 30px; border-radius: 0; filter: invert(1);">
          </a>
          <a href="https://www.instagram.com/kartveli.id?igsh=Y2J6dm03NHppMDV0&utm_source=qr" target="_blank">
            <img src="Images/instagrambw.png" alt="Instagram" style="height: 30px; border-radius: 0; filter: invert(1);">
          </a>
        </div>
      </div>
    </div> <!--top menu end-->



      <div class="textBubble">
        <h1>Together in every thread</h1>
        <p>
          Introducing kartveli's new line! Thoughtfully crafted in every stitch, 
          our yarn bracelets featuring heart and flower patterns can elevate your 
          everyday look. 
        </p>
        <button type="button" id="dropdownButton" style="font-size: 1em;">What is Kartveli?</button>
        <div id="aboutUsDropdown" style="display: none;">
          <p>kartveli is a group based on the country Georgia. Georgian fabric is a centuries-long 
            tradition that contains both the history and natural beauty of the nation. Our products
            seek to imitate that very same artistry, which is only made possible by our members:
            <ul>
              <li><strong>Clarissa Helga Artanti</strong> (master of yarn)</li>
              <li><strong>Kennis Soleil Sarumpaet</strong> (big bad wolf)</li>
              <li><strong>Puti Dania</strong> (bracelet apprentice)</li>
              <li><strong>Rama Daniswara</strong> (resident sheep)</li>
              <li><strong>Ryuchi Naiya Kamil Rosadi</strong> (programmer)</li>
              <li><strong>Syareva Reimara Syam</strong> (bracelet apprentice)</li>
            </ul>
          </p>
        </div>
      </div>


   
      <h1 style="margin: 1.5em auto 0.5em auto;">Our Catalogue</h1> <!--catalogue section start-->

      <div class="catalogue">
        <div class="catalogueProduct">
          <div class="slidesContainer">
            <img src="Images/hs1.jpg" alt="Heartstrings 1" class="slidesImage1 activeSlidesImage1"/>
            <img src="Images/hscouple1.jpg" alt="Heartstrings 2" class="slidesImage1"/>
            <img src="Images/hscouple1.jpg" alt="Heartstrings 3" class="slidesImage1"/>
          </div>
          <h3>Heartstrings</h3>
          <h3>Rp30k</h3>
          <h4>BUNDLE Rp24k</h4>

          <div class="itemCounters">
            <button type="button" class="buttonMinus" onclick="subtractBuyNumber('itemCounter1')">-</button>
            <p id="itemCounter1" class="itemCounters">0</p>
            <button type="button" class="buttonPlus" onclick="addBuyNumber('itemCounter1')">+</button>
          </div>
        </div>


        <div class="catalogueProduct">
          <div class="slidesContainer">
            <img src="Images/btpile1.jpg" alt="Blossom Trail 1" class="slidesImage2 activeSlidesImage2"/>
            <img src="Images/bthand1.jpg" alt="Blossom Trail 2" class="slidesImage2"/>
            <img src="Images/bthand2.jpg" alt="Blossom Trail 3" class="slidesImage2"/>
            <img src="Images/btplant11.jpg" alt="Blossom Trail 4" class="slidesImage2"/>
          </div>
          <h3>Blossom Trail</h3>
          <h3>Rp25k</h3>
          <h4>BUNDLE Rp20k</h4>

          <div class="itemCounters">
            <button type="button" class="buttonMinus" onclick="subtractBuyNumber('itemCounter2')">-</button>
            <p id="itemCounter2" class="itemCounters">0</p>
            <button type="button" class="buttonPlus" onclick="addBuyNumber('itemCounter2')">+</button>
          </div>
        </div>


        <div class="catalogueProduct">
          <div class="slidesContainer">
            <img src="Images/fbpile1.jpg" alt="Flower Buds 1" class="slidesImage3 activeSlidesImage3"/>
            <img src="Images/fbhand1.jpg" alt="Flower Buds 2" class="slidesImage3"/>
            <img src="Images/fbhand2.jpg" alt="Flower Buds 3" class="slidesImage3"/>
            <img src="Images/fbhand3.jpg" alt="Flower Buds 4" class="slidesImage3"/>
          </div>
          <h3>Flower Buds</h3>
          <h3>Rp20k</h3>
          <h4>BUNDLE Rp16k</h4>

          
          <div class="itemCounters">
            <button type="button" class="buttonMinus" onclick="subtractBuyNumber('itemCounter3')">-</button>
            <p id="itemCounter3" class="itemCounters">0</p>
            <button type="button" class="buttonPlus" onclick="addBuyNumber('itemCounter3')">+</button>
          </div>
        </div>
      </div> <!--catalogue part 1 end-->

      <div class="textBubble" style="margin-bottom: 3em;">
        <h2>Bring a lover for a better price!</h2>
        <p>
          <strong>Every pair of the same product receives a 20% discount!</strong> Please note that if you buy 
          an odd number of the same product (3, 5, 7, etc.), the last item does not have a pair and it will 
          <strong>not</strong> get a discount. (P.S. If you are eligible for the discount, please write it in
          the notes, thank you!)
        </p>
      </div>

      <div>
        <img href="Images/QRPOKartveli.jpg" alt="PO Kartveli" style="margin: auto">
      </div>
  


      <div id="submissionBox"> <!--form part start-->
        <form method="post" style="display: none;" id="submissionForm" name="formSubmission"
        action="">
          <label for="yourName"><strong>Your Name</strong></label>
          <input type="text" name="name" id="yourName" placeholder="Input your name here" value="">
          <input type="text" name="notes" id="yourNotes" placeholder="Add optional notes here">
          <input type="submit" value="Submit!" id="submitButton" style="display: block;">
          
          <input type="text" name="totalprice" id="totalOrderPrice" style="display: none;" value="">
          <input type="text" name="totalpriceND" id="totalOrderPriceND" style="display: none;" value="">
          <input type="text" name="price1" id="orderPrice1" style="display: none;" value="">
          <input type="text" name="price2" id="orderPrice2" style="display: none;" value="">
          <input type="text" name="price3" id="orderPrice3" style="display: none;" value="">
          <input type="text" name="amount1" id="itemAmount1" style="display: none;" value="">
          <input type="text" name="amount2" id="itemAmount2" style="display: none;" value="">
          <input type="text" name="amount3" id="itemAmount3" style="display: none;" value="">
        </form>  
      </div>
    


      <div id="totalPriceBar"> <!--price bar section start-->
        <p id="totalPriceNumber">0</p>
        <button type="button" id="orderSubmit">Submit your order!</button>
      </div>
  </body>







  <script>
    /*item number changer section*/
    function addBuyNumber(n) {
      let number = document.getElementById(n).textContent;

       number = ++number;
       if (number > 98) {number = 99};
       document.getElementById(n).textContent = number;
    }

    function subtractBuyNumber(n) {
      let number = document.getElementById(n).textContent;

       number = --number;
       if (number < 1) {number = 0};
       document.getElementById(n).textContent = number;
    }



    /*price calculator section*/
    function priceCalculator(variant, price, amount) {
      let itemsBought = document.getElementById(variant).textContent;

      document.getElementById(amount).setAttribute("value", itemsBought);
      if (itemsBought % 2 == 1) {
        return Math.trunc((itemsBought - 1) * 0.8 * price + price);
      }
      else {
        return Math.trunc(itemsBought * 0.8 * price);
      };
    }

    document.addEventListener('click', () => {
      let price1 = priceCalculator("itemCounter1", 30000, "itemAmount1");
      let price2 = priceCalculator("itemCounter2", 25000, "itemAmount2");
      let price3 = priceCalculator("itemCounter3", 20000, "itemAmount3");
      let totalPrice = price1 + price2 + price3;

      let price1ND = document.getElementById("itemCounter1").textContent * 30000;
      let price2ND = document.getElementById("itemCounter2").textContent * 25000;
      let price3ND = document.getElementById("itemCounter3").textContent * 20000;
      let totalPriceND = price1ND + price2ND + price3ND;

      if (totalPrice > 0) {document.getElementById("totalPriceBar").style.display = "flex";}
      else {document.getElementById("totalPriceBar").style.display = "none";}
     
      document.getElementById("totalPriceNumber").textContent = ("Your total price is Rp" + totalPrice + " / Rp" + totalPriceND);

      document.getElementById("totalOrderPrice").setAttribute("value", totalPrice);
      document.getElementById("totalOrderPriceND").setAttribute("value", totalPriceND);
      document.getElementById("orderPrice1").setAttribute("value", price1);
      document.getElementById("orderPrice2").setAttribute("value", price2);
      document.getElementById("orderPrice3").setAttribute("value", price3);
    })



    /*about us dropdown*/
    document.getElementById("dropdownButton").addEventListener('click', function () {
      if (document.getElementById("aboutUsDropdown").style.display == "block") {
        document.getElementById("aboutUsDropdown").style.display = "none";
        document.getElementById("dropdownButton").style.fontSize = "1em";
        document.getElementById("dropdownButton").style.fontWeight = "normal";
      }
      else {
        document.getElementById("aboutUsDropdown").style.display = "block";
        document.getElementById("dropdownButton").style.fontSize = "2em";
        document.getElementById("dropdownButton").style.fontWeight = "bold";
      };
    })



    /*form opener section*/
    document.getElementById("orderSubmit").addEventListener('click', function () {
      if (document.getElementById("submissionForm").style.display === "block") {
        document.getElementById("orderSubmit").style.display = "none"}
      else {document.getElementById("orderSubmit").style.display = "inline"};
      document.getElementById("submissionForm").style.display = "block";
    })

    document.addEventListener('click', function () {
      if (document.getElementById('totalPriceBar').style.display === "none") {
        document.getElementById('submissionForm').style.display = "none";
      }
    })



    /*slideshow section*/
    let activeSlide = 1;

    setInterval(slideshow, 3000, "slidesImage1", "activeSlidesImage1");
    setInterval(slideshow, 3000, "slidesImage2", "activeSlidesImage2");
    setInterval(slideshow, 3000, "slidesImage3", "activeSlidesImage3");
    setInterval(slideshow, 3000, "slidesImage4", "activeSlidesImage4");
    setInterval(slideshow, 3000, "slidesImage5", "activeSlidesImage5");
    setInterval(() => {++activeSlide;}, 3000);

    function slideshow(nthSlide, nthActiveSlide) {
      const slideNumber = document.getElementsByClassName(nthSlide);
      const slideLength = slideNumber.length;

      slideNumber[activeSlide % slideLength].setAttribute("class", nthSlide + " " + nthActiveSlide);
      
      if (activeSlide % slideLength > 0) {slideNumber[activeSlide % slideLength - 1].setAttribute("class", nthSlide)}
      else {slideNumber[slideLength - 1].setAttribute("class", nthSlide)};
    }



    /*page returner section. DISCLAIMER: this section (including the script used in Excel to catalogue purchases)
    is entirely taken from https://www.youtube.com/watch?v=jdIntB1J-i8 */
    const scriptURL = 
    "https://script.google.com/macros/s/AKfycbycsoOPSzO2k7MhBuPoJXST0XOrzZn7hUg9m4iDHihOJo7mutfDFU9KEQiBtc3_kWmW/exec";
    const form = document.forms['formSubmission'];

    form.addEventListener('submit', e => {
      e.preventDefault();

      fetch(scriptURL, {method: 'POST', body: new FormData(form)})
      .then(() => {window.location.reload();})
      .then(window.open("payment.html", "_blank"))
      .catch(error => console.error('Error!', error.message))
    })
  </script>
</html>
